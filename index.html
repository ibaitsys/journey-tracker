<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PodTechs Journey</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="layout">
    
    <main class="main">
      <header class="main-header">
        <div>
          <div class="main-title">Journey System - Internal View</div>
          <div class="main-subtitle">
            Track lead to acquisition to client to retention in one simple place.
          </div>
        </div>
        <div class="view-badge">Internal - PodTechs team only</div>
      </header>
      <section class="cards-row">
        <article class="card">
          <div class="card-label">Leads (this month)</div>
          <div class="card-value" id="metric-leads">0</div>
          <div class="card-foot">Manually added from Twine or LinkedIn</div>
        </article>
        <article class="card">
          <div class="card-label">In acquisition</div>
          <div class="card-value" id="metric-acquisition">0</div>
          <div class="card-foot">Actively in conversations</div>
        </article>
              </section>

      <section id="dashboard" class="section active">
        <div class="section-header">
          <h2>Pipeline overview</h2>
          <small>High level snapshot of where everyone is in the journey.</small>
        </div>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Client or Lead</th>
                <th>Stage</th>
                <th>Channel</th>
                <th>Last touch</th>
                <th>Next action</th>
                <th>Episode due date</th>
                <th>Feedback request</th>
                <th>Owner</th>
              </tr>
            </thead>
            <tbody id="dashboard-body"></tbody>
          </table>
        </div>
        <p class="section-note">
          Connect to your database to populate automatically.
        </p>
      </section>

      <section id="leads" class="section">
        <div class="section-header">
          <div>
            <h2>Leads</h2>
            <small>Raw leads before they respond - top of funnel.</small>
          </div>
          <div class="section-actions">
            <button class="btn btn-primary" id="add-lead-btn">+ Add lead</button>
          </div>
        </div>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Source</th>
                <th>Posted</th>
                <th>Project</th>
                <th>Company</th>
                <th>Source URL</th>
                <th>Actions</th>
                </tr>
            </thead>
            <tbody id="leads-body"></tbody>
          </table>
        </div>
        
      </section>
      <section id="acquisition" class="section">
        <div class="section-header">
          <div>
            <h2>Acquisition</h2>
            <small>Leads who replied and are in active conversation.</small>
          </div>
          
        </div>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Client or Project</th>
                <th>Substages</th>
                <th>Channel</th>
                <th>Last contact</th>
                <th>Next action</th>
                <th>Meeting date</th>
                <th>Move to client</th>
              </tr>
            </thead>
            <tbody id="acquisition-body"></tbody>
          </table>
        </div>
        <p class="section-note">
          Once the first episode is delivered, the prospect becomes a client and moves to retention.
        </p>
      </section>

      <section id="retention" class="section">
        <div class="section-header">
          <div>
            <h2>Retention</h2>
            <small>Active paying retention with ongoing production.</small>
          </div>
          
        </div>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Client</th>
                <th>Start date</th>
                <th>Services</th>
                <th>Cadence</th>
                <th>Account owner</th>
                <th>Health</th>
                <th>Notes</th>
                <th>Retention actions</th>
              </tr>
            </thead>
            <tbody id="retention-body"></tbody>
          </table>
        </div>
        <p class="section-note">
          Use the retention actions to log reviews and testimony.
        </p>
      </section>

      <section id="rejected" class="section">
        <div class="section-header">
          <div>
            <h2>Rejected leads</h2>
            <small>Leads disqualified or closed-lost.</small>
          </div>
          <div class="section-actions">
            <button class="btn" id="purge-rejected-btn">Delete all</button>
          </div>
        </div>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Contact</th>
                <th>Source</th>
                <th>Notes</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="rejected-body"></tbody>
          </table>
        </div>
        <p class="section-note">Delete removes the record. Restore from Supabase if you have a backup.</p>
      </section>
    </main>
  </div>

  
  <div class="drawer-overlay" id="lead-drawer-overlay"></div>
  <aside class="lead-drawer" id="lead-drawer">
    <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom: 12px;">
      <div>
        <div class="lead-drawer__title" id="drawer-title">Lead</div>
        <div class="lead-drawer__meta" id="drawer-meta">Source - Posted</div>
      </div>
      <button class="btn" id="drawer-close">Close</button>
    </div>

    <div class="kpi-bar">
      <div class="kpi-card">
        <div class="kpi-label">Priority</div>
        <div class="kpi-value" id="drawer-priority">-</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-label">Last touch</div>
        <div class="kpi-value" id="drawer-last-touch">-</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-label">Next step</div>
        <div class="kpi-value" id="drawer-next-step">-</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-label">Channel</div>
        <div class="kpi-value" id="drawer-channel">-</div>
      </div>
    </div>

    <div style="margin-bottom: 24px;">
      <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #111827;">Description</h4>
      <p class="drawer-text" id="drawer-description" style="font-size: 13px; line-height: 1.5; color: #4b5563;">No description</p>
    </div>

    <div class="stepper-box" id="drawer-stepper">
      <!-- Steps will be injected here -->
    </div>

    <div style="margin-top: auto; padding-top: 20px; border-top: 1px solid #e5e7eb; display: flex; justify-content: flex-end;">
      <button class="btn btn-primary" id="drawer-promote">Promote to Acquisition</button>
    </div>
  </aside>

  <div class="modal-backdrop" id="description-modal">
    <div class="modal">
      <header>
        <h3>Full Description</h3>
        <button type="button" class="btn" id="description-close">Close</button>
      </header>
      <div class="modal-body" style="max-height: 60vh; overflow:auto; white-space: pre-wrap;" id="description-content"></div>
      <footer>
        <button type="button" class="btn" id="description-close-footer">Close</button>
      </footer>
    </div>
  </div>
<div class="modal-backdrop" id="lead-modal">
    <div class="modal">
      <header>
        <h3 id="lead-modal-title">Add lead</h3>
        <button type="button" class="btn" id="lead-modal-close">Close</button>
      </header>
      <form id="lead-form">
        <div class="modal-body">
          <div class="field">
            <label for="lead-source">Source</label>
            <select id="lead-source" required>
              <option value="">Select source</option>
              <option value="Twine">Twine</option>
              <option value="LinkedIn">LinkedIn</option>
              <option value="Referral">Referral</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div class="field">
            <label for="lead-project">Project / Role</label>
            <input id="lead-project" type="text" placeholder="Podcast Editor" required />
          </div>
          <div class="field">
            <label for="lead-company">Company</label>
            <input id="lead-company" type="text" placeholder="Agency or brand" />
          </div>
          <div class="field">
            <label for="lead-email">Contact email</label>
            <input id="lead-email" type="email" placeholder="name@example.com" required />
          </div>
          <div class="field">
            <label for="lead-phone">Contact phone</label>
            <input id="lead-phone" type="text" placeholder="+1 (555) 000-0000" />
          </div>
          <div class="field">
            <label for="lead-source-url">Source URL</label>
            <input id="lead-source-url" type="url" placeholder="https://..." />
          </div>
          <div class="field">
            <label for="lead-service">Service interest</label>
            <input id="lead-service" type="text" placeholder="Full production" />
          </div>
          <div class="field" style="grid-column: 1 / -1;">
            <label for="lead-description">Description</label>
            <textarea id="lead-description" placeholder="Short description or notes"></textarea>
          </div>
          <div class="field">
            <label for="lead-priority">Priority</label>
            <select id="lead-priority">
              <option value="High">High</option>
              <option value="Medium" selected>Medium</option>
              <option value="Low">Low</option>
            </select>
          </div>
          <div class="field">
            <label for="lead-stage">Stage</label>
            <select id="lead-stage">
              <option value="lead">Lead</option>
              <option value="acquisition">Acquisition</option>
              <option value="retention">Retention</option>
              <option value="rejected">Rejected</option>
            </select>
          </div>
          <div class="field">
            <label for="lead-last-touch">Last touch</label>
            <input id="lead-last-touch" type="text" placeholder="Not contacted" />
          </div>
          <div class="field">
            <label for="lead-next-step">Next step</label>
            <textarea id="lead-next-step" placeholder="Draft outreach"></textarea>
          </div>
        </div>
        <div class="modal-body">
          <div class="field" style="grid-column: 1 / -1;">
             <label>Journey Tracker</label>
             <div class="stepper-box" id="modal-stepper"></div>
          </div>
          <div class="field" style="grid-column: 1 / -1;">
            <label>History</label>
            <div id="lead-history" class="section-note" style="max-height: 140px; overflow:auto; border:1px solid var(--border); border-radius:8px; padding:8px; background: var(--bg-soft);"></div>
            <button type="button" class="btn" id="lead-history-add">Add +</button>
          </div>
        </div>
        <footer>
          <button type="button" class="btn" id="lead-cancel">Cancel</button>
          <button type="submit" class="btn btn-primary" id="lead-submit">Save lead</button>
        </footer>
      </form>
    </div>
  </div>

    <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.29.2/dist/feather.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.7/dist/umd/supabase.js"></script>
  <script src="main.js"></script>
</body>
</html>























































